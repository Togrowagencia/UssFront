import React, { useState } from 'react'
import { DatePicker } from 'antd';

const { RangePicker } = DatePicker;

export const Header = ({ onSearch, onDateRangeChange }) => {
  const [searchText, setSearchText] = useState('');

  const handleSearchChange = (e) => {
    const value = e.target.value;
    setSearchText(value);
    onSearch(value);
  };

  const handleDateRangeChange = (dates) => {
    if (dates) {
      onDateRangeChange(dates[0], dates[1]);
    } else {
      onDateRangeChange(null, null);
    }
  };

  return (
    <div className='h-[10%] w-full flex justify-between items-end'>
        <p className='titulos-pequeÃ±os'>Hola, Bienvenido a USS</p>
        <div className='div-filtros-dashboard'>

            <div className='div-filtro-fecha-dashboard gap-2'>
                <img src="/svg/dashboard/fecha.svg" alt="" />
                <RangePicker 
                  placeholder={['Inicio','Fin']}
                  onChange={handleDateRangeChange}
                  format="YYYY-MM-DD"
                />
            </div>

            <div className={`pb-2 overflow-hidden flex group items-end ${searchText ? 'w-[30%] border-b border-solid border-[#C1C1C1]' : 'w-[3%] hover:w-[30%] hover:border-b hover:border-solid hover:border-[#C1C1C1] hover:duration-500 duration-500'}`}>
                <div className="flex items-center justify-center fill-white">
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 34 35" fill="none">
                        <path d="M12.6961 24.0293C10.7568 24.0293 8.89697 23.2605 7.52569 21.8919C6.15441 20.5234 5.38403 18.6673 5.38403 16.7319C5.38403 16.4263 5.50567 16.1332 5.72219 15.9171C5.93871 15.701 6.23237 15.5797 6.53857 15.5797C6.84477 15.5797 7.13843 15.701 7.35495 15.9171C7.57147 16.1332 7.69311 16.4263 7.69311 16.7319C7.69717 18.0549 8.22557 19.3225 9.16293 20.258C10.1003 21.1935 11.3705 21.7208 12.6961 21.7249C13.0023 21.7249 13.296 21.8463 13.5125 22.0623C13.729 22.2784 13.8506 22.5715 13.8506 22.8771C13.8506 23.1827 13.729 23.4758 13.5125 23.6918C13.296 23.9079 13.0023 24.0293 12.6961 24.0293Z" fill="#222222"/>
                        <path d="M31.9384 34.0154C31.7867 34.0161 31.6364 33.9865 31.4963 33.9285C31.3562 33.8705 31.2292 33.7851 31.1226 33.6774L22.7021 25.1816C22.5355 25.1021 22.3903 24.984 22.2789 24.8369C22.1675 24.6899 22.093 24.5184 22.0618 24.3367C22.0306 24.155 22.0435 23.9685 22.0994 23.7928C22.1554 23.6172 22.2527 23.4574 22.3833 23.3271C22.5139 23.1968 22.674 23.0996 22.85 23.0438C23.026 22.9879 23.2129 22.975 23.3949 23.0062C23.577 23.0374 23.7489 23.1117 23.8962 23.2229C24.0435 23.3341 24.1619 23.4789 24.2415 23.6453L32.6927 32.0796C32.9089 32.2956 33.0304 32.5885 33.0304 32.8938C33.0304 33.1992 32.9089 33.492 32.6927 33.7081C32.4878 33.8998 32.2192 34.0092 31.9384 34.0154Z" fill="#222222"/>
                        <path d="M12.6961 24.0293C10.7568 24.0293 8.89697 23.2605 7.52569 21.8919C6.15441 20.5234 5.38403 18.6673 5.38403 16.7319C5.38403 16.4263 5.50567 16.1332 5.72219 15.9171C5.93871 15.701 6.23237 15.5797 6.53857 15.5797C6.84477 15.5797 7.13843 15.701 7.35495 15.9171C7.57147 16.1332 7.69311 16.4263 7.69311 16.7319C7.69717 18.0549 8.22557 19.3225 9.16293 20.258C10.1003 21.1935 11.3705 21.7208 12.6961 21.7249C13.0023 21.7249 13.296 21.8463 13.5125 22.0623C13.729 22.2784 13.8506 22.5715 13.8506 22.8771C13.8506 23.1827 13.729 23.4758 13.5125 23.6918C13.296 23.9079 13.0023 24.0293 12.6961 24.0293Z" fill="#5A5DA6"/>
                        <path d="M31.9384 34.0153C31.7867 34.016 31.6364 33.9865 31.4963 33.9284C31.3562 33.8704 31.2292 33.785 31.1226 33.6773L22.7021 25.1815C22.5355 25.1021 22.3903 24.9839 22.2789 24.8369C22.1675 24.6899 22.093 24.5183 22.0618 24.3366C22.0306 24.155 22.0435 23.9685 22.0994 23.7928C22.1554 23.6171 22.2527 23.4574 22.3833 23.327C22.5139 23.1967 22.674 23.0995 22.85 23.0437C23.026 22.9879 23.2129 22.975 23.3949 23.0062C23.577 23.0373 23.7489 23.1116 23.8962 23.2228C24.0435 23.334 24.1619 23.4789 24.2415 23.6452L32.6927 32.0795C32.9089 32.2956 33.0304 32.5884 33.0304 32.8938C33.0304 33.1991 32.9089 33.492 32.6927 33.708C32.4878 33.8997 32.2192 34.0092 31.9384 34.0153Z" fill="#222222"/>
                        <path d="M14.2203 29.4064C11.1404 29.4023 8.14481 28.4017 5.68296 26.5547C3.2211 24.7077 1.42567 22.1138 0.565971 19.1622C-0.293727 16.2107 -0.17134 13.0605 0.914775 10.1842C2.00089 7.30791 3.99218 4.86061 6.58994 3.20939C9.1877 1.55817 12.2519 0.792055 15.3229 1.02596C18.3938 1.25987 21.306 2.48118 23.6226 4.50671C25.9392 6.53224 27.5353 9.25278 28.1715 12.2602C28.8077 15.2677 28.4496 18.3999 27.1511 21.1871C27.0866 21.3245 26.9956 21.4479 26.8833 21.5501C26.771 21.6523 26.6395 21.7314 26.4965 21.7828C26.3535 21.8342 26.2017 21.8568 26.0498 21.8495C25.898 21.8422 25.7491 21.8051 25.6117 21.7402C25.3365 21.6072 25.1244 21.372 25.0208 21.0848C24.9172 20.7977 24.9304 20.4815 25.0575 20.2039C26.3173 17.5068 26.5237 14.4377 25.6364 11.5968C24.749 8.75592 22.8318 6.34751 20.2595 4.84258C17.6872 3.33766 14.6449 2.84445 11.7276 3.45941C8.81026 4.07438 6.2277 5.75328 4.48494 8.16781C2.74218 10.5823 1.96457 13.5588 2.30417 16.5152C2.64378 19.4716 4.07617 22.1952 6.32125 24.1534C8.56632 26.1117 11.4626 27.1638 14.4437 27.1039C17.4248 27.044 20.2763 25.8764 22.4406 23.8296C22.6616 23.6165 22.9568 23.4974 23.2641 23.4974C23.5714 23.4974 23.8667 23.6165 24.0877 23.8296C24.3039 24.0456 24.4254 24.3385 24.4254 24.6438C24.4254 24.9492 24.3039 25.242 24.0877 25.4581C21.6245 27.8042 18.4048 29.1984 15.0053 29.391L14.2203 29.4064Z" fill="#222222"/>
                    </svg>       
                </div>
                <input 
                    type="text" 
                    className="outline-none text-[20px] bg-transparent w-full textos negro font-normal px-4"
                    value={searchText}
                    onChange={handleSearchChange}
                />
            </div>

            <img src="/svg/dashboard/soporte.svg" className="pb-2" width="24" height="24"/>

            <img src="/svg/dashboard/configuracion.svg" className="pb-2" width="26" height="26"/> 
        </div>
    </div>
  )
}

export default Header;